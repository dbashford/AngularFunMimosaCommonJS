define(function(require,e,t){var n=t.uri||"",r=n.substring(0,n.lastIndexOf("/")+1);(function(){"use strict";var e,n;e=require("ang"),n=require("services/services"),require("services/message"),require("vendor/angularResource"),t.exports=n.factory("twitter",["$resource","message",function(t,n){var r,i,s;return s={result:{}},r=t("http://search.twitter.com/search.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}}),i=function(t,i,o){return s.result=r.get({q:t},function(r,s){n.publish("search",{source:"Twitter",criteria:t});if(e.isFunction(i))return i.apply(this,arguments)},o)},{get:i,tweets:s}}])}).call(this)})